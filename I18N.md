# Internationalization (i18n) Scripts

This project includes npm scripts to help onboard new languages and keep existing translations up to date with the English source.

## Available Scripts

### `npm run i18n:onboard <language-code>`

Creates a new language file with placeholder translations based on the English source.

**Usage:**
```bash
npm run i18n:onboard es        # Spanish
npm run i18n:onboard fr        # French  
npm run i18n:onboard de        # German
npm run i18n:onboard ja        # Japanese
npm run i18n:onboard fr-CA     # French (Canada)
```

**What it does:**
- Creates a new JSON file in `src/locales/` with the specified language code
- Copies the entire structure from English (`en.json`)
- Replaces all translation values with placeholders that indicate what needs to be translated
- Provides clear next steps for completing the translation

**Example output:**
```json
{
  "homepage": {
    "title": "[homepage.title] - TRANSLATE: Accessible App Suite",
    "subtitle": "[homepage.subtitle] - TRANSLATE: A collection of accessible and fun applications"
  }
}
```

### `npm run i18n:update [language-code]`

Updates existing language files with any missing keys from the English source.

**Usage:**
```bash
npm run i18n:update           # Update all languages
npm run i18n:update es        # Update only Spanish
npm run i18n:update fr        # Update only French
```

**What it does:**
- Compares existing language files with the current English source
- Adds any missing keys with placeholder translations
- Preserves existing translations
- Reports how many keys were added to each language

### `npm run i18n:list`

Shows the status of all available languages and their translation progress.

**Usage:**
```bash
npm run i18n:list
```

**What it shows:**
- All available language files
- Translation completion status
- Number of keys that need translation
- Available commands

**Example output:**
```
ğŸŒ Available Languages:

  en     ğŸ‡ºğŸ‡¸ (Source)
         ğŸ“ en.json
         ğŸ“Š 137 keys total

  es     â³ 15/137 translated
         ğŸ“ es.json
         ğŸ“Š 137 keys total
         ğŸ”„ 122 keys need translation

  fr     â³ 0/137 translated
         ğŸ“ fr.json
         ğŸ“Š 137 keys total
         ğŸ”„ 137 keys need translation
```

## Workflow for Adding a New Language

1. **Create the language file:**
   ```bash
   npm run i18n:onboard es
   ```

2. **Translate the placeholder values:**
   - Open `src/locales/es.json`
   - Replace placeholders like `"[homepage.title] - TRANSLATE: Accessible App Suite"` with actual translations like `"Suite de Aplicaciones Accesibles"`

3. **Add the language to the i18n configuration:**
   - Import the new language in `src/i18n.ts`
   - Add it to the resources object

4. **Test your translations:**
   ```bash
   npm run test:run
   npm run build
   ```

5. **Check translation status:**
   ```bash
   npm run i18n:list
   ```

## Workflow for Maintaining Existing Languages

When the English source is updated with new keys:

1. **Update all languages:**
   ```bash
   npm run i18n:update
   ```

2. **Check what needs translation:**
   ```bash
   npm run i18n:list
   ```

3. **Translate the new placeholder values** in each language file

4. **Verify everything works:**
   ```bash
   npm run test:run
   ```

## File Structure

```
src/
â”œâ”€â”€ locales/
â”‚   â”œâ”€â”€ en.json     # English (source)
â”‚   â”œâ”€â”€ es.json     # Spanish
â”‚   â”œâ”€â”€ fr.json     # French
â”‚   â””â”€â”€ ...         # Other languages
â””â”€â”€ i18n.ts         # i18n configuration
```

## Translation Key Format

Translation keys use dot notation for nested objects:

```json
{
  "homepage": {
    "title": "Accessible App Suite",
    "apps": {
      "calculator": {
        "title": "Calculator"
      }
    }
  }
}
```

Used in code as:
```tsx
t('homepage.title')                    // "Accessible App Suite"
t('homepage.apps.calculator.title')    // "Calculator"
```

## Placeholder Format

When scripts create new translation entries, they use this format:
```
"[key.path] - TRANSLATE: Original English Text"
```

This makes it easy to:
- Identify untranslated content
- See the key path for context
- See the original English text to translate

## Notes

- Language codes should follow ISO 639-1 (e.g., `en`, `es`, `fr`) or include region codes (e.g., `fr-CA`, `en-GB`)
- The English file (`en.json`) is considered the source of truth
- Always run tests after making i18n changes
- The scripts preserve existing translations when updating